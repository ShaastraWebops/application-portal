{% extends "cores/base.html" %}
{% block content %}
<h5>Add Questions to Mutliple Deparmtents</h5>
<script type="text/javascript">
    function selectall() {
        checkboxes = document.getElementsByName('subdepartments');
        for(var i=0, n=checkboxes.length;i<n;i++) {
            checkboxes[i].checked = true;
        }
    }
    window.onload = selectall;
    </script>
<script type="text/javascript">
    function toggle(source) {
        checkboxes = document.getElementsByName('subdepartments');
        for(var i=0, n=checkboxes.length;i<n;i++) {
            checkboxes[i].checked = source.checked;
        }
    }
</script>
{% if index %}
<div class="row">
<div class="alert-success">
Your question was added to {{index}} departments.
</div>
</div>
{% endif %}
<form action='' method="POST" class="form-horizontal">
    <div class="control-group">{{q.as_table}}</div>
<input name="mastertoggle" type="checkbox" onClick="toggle(this)" checked /> Toggle All<br/>
    {% for subdept in subdepts %}
    <div class="control-group">
        <input type="checkbox" name="subdepartments" id="option{{subdept.id}}" value={{subdept.id}} />
        <label for="option{{subdept.id}}" class="checkboxes"><strong>{{subdept.name}}</strong></label>
    </div>
    {% endfor %}
    <div class="control-group">
        <input type="submit" class="btn btn-primary" />
        <a href="{{site_url}}" class="btn">Back</a>
    </div>
</form>
{% endblock %}
